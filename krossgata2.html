<!DOCTYPE html>
<html lang="is">
<head>
  <meta charset="UTF-8" />
  <title>Krossgáta með myndum - Heimilismunir</title>
  <style>
    body {
      font-family: sans-serif;
      max-width: 650px;
      margin: 20px auto;
      text-align: center;
    }
    table {
      margin: 0 auto 20px auto;
      border-collapse: collapse;
    }
    td {
      width: 40px;
      height: 40px;
      border: 2px solid #333;
      position: relative;
      background: white;
    }
    td.black {
      background: black;
      border: 2px solid black;
    }
    input {
      width: 100%;
      height: 100%;
      font-size: 24px;
      border: none;
      text-align: center;
      text-transform: uppercase;
      background: transparent;
      caret-color: #3399ff;
    }
    input:focus {
      outline: 2px solid #3399ff;
    }
    .number {
      position: absolute;
      top: 2px;
      left: 3px;
      font-size: 12px;
      color: #555;
      user-select: none;
    }
    h1, h3 {
      margin-bottom: 5px;
    }
    .clue-list {
      max-width: 600px;
      margin: 0 auto 20px auto;
      text-align: left;
    }
    .clue {
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 18px;
    }
    .clue img {
      width: 40px;
      height: 40px;
      border: 1px solid #ccc;
      background: #fff;
      border-radius: 4px;
    }
    button.show-answer-btn, #show-all {
      margin: 5px 5px 15px 5px;
      padding: 6px 12px;
      font-size: 1em;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <h1>Krossgáta: Heimilismunir með myndum</h1>
  <p>Finndu og fylltu út í orð sem passa við myndirnar.</p>

  <table>
    <tbody>
      <!-- Row 1 -->
      <tr>
        <td class="number">1<input maxlength="1" data-answer="B" id="r1c1" autocomplete="off"></td>
        <td><input maxlength="1" data-answer="O" id="r1c2" autocomplete="off"></td>
        <td><input maxlength="1" data-answer="R" id="r1c3" autocomplete="off"></td>
        <td><input maxlength="1" data-answer="Ð" id="r1c4" autocomplete="off"></td>
        <td><input maxlength="1" data-answer="I" id="r1c5" autocomplete="off"></td>
      </tr>
      <!-- Row 2 -->
      <tr>
        <td class="black"></td>
        <td class="black"></td>
        <td class="number">2<input maxlength="1" data-answer="S" id="r2c3" autocomplete="off"></td>
        <td class="black"></td>
        <td class="black"></td>
      </tr>
      <!-- Row 3 -->
      <tr>
        <td class="number">3<input maxlength="1" data-answer="R" id="r3c1" autocomplete="off"></td>
        <td><input maxlength="1" data-answer="Ú" id="r3c2" autocomplete="off"></td>
        <td><input maxlength="1" data-answer="M" id="r3c3" autocomplete="off"></td>
        <td><input maxlength="1" data-answer="M" id="r3c4" autocomplete="off"></td>
        <td><input maxlength="1" data-answer="A" id="r3c5" autocomplete="off"></td>
      </tr>
      <!-- Row 4 -->
      <tr>
        <td class="black"></td>
        <td class="black"></td>
        <td class="number">4<input maxlength="1" data-answer="P" id="r4c3" autocomplete="off"></td>
        <td class="black"></td>
        <td class="black"></td>
      </tr>
      <!-- Row 5 -->
      <tr>
        <td class="number">5<input maxlength="1" data-answer="M" id="r5c1" autocomplete="off"></td>
        <td><input maxlength="1" data-answer="A" id="r5c2" autocomplete="off"></td>
        <td><input maxlength="1" data-answer="S" id="r5c3" autocomplete="off"></td>
        <td><input maxlength="1" data-answer="T" id="r5c4" autocomplete="off"></td>
        <td><input maxlength="1" data-answer="U" id="r5c5" autocomplete="off"></td>
      </tr>
    </tbody>
  </table>

  <button id="show-all">Sýna öll svör</button>

  <div class="clue-list">
    <h3>Lárétt (→):</h3>
    <div class="clue"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/1a/Dining_table_set.jpg/40px-Dining_table_set.jpg" alt="borð" /> 1. (5 stafir)</div>
    <div class="clue"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/fb/Bed_icon.svg/40px-Bed_icon.svg.png" alt="rúm" /> 3. (5 stafir)</div>
    <div class="clue"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/8a/Television_icon.svg/40px-Television_icon.svg.png" alt="sjónvarp" /> 4. (1 stafur)</div>

    <h3>Lóðrétt (↓):</h3>
    <div class="clue"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/89/Wardrobe_icon.svg/40px-Wardrobe_icon.svg.png" alt="skápur" /> 2. (1 stafur)</div>
    <div class="clue"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/49/Pen_icon.svg/40px-Pen_icon.svg.png" alt="penni" /> 3. (5 stafir)</div>
    <div class="clue"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6d/Spoon_icon.svg/40px-Spoon_icon.svg.png" alt="skeið" /> 5. (5 stafir)</div>
  </div>

<script>
  const inputs = [...document.querySelectorAll('input[maxlength="1"]')];
  const answers = {
    "r1c1": "B", "r1c2": "O", "r1c3": "R", "r1c4": "Ð", "r1c5": "I",
    "r2c3": "S",
    "r3c1": "R", "r3c2": "Ú", "r3c3": "M", "r3c4": "M", "r3c5": "A",
    "r4c3": "P",
    "r5c1": "M", "r5c2": "A", "r5c3": "S", "r5c4": "T", "r5c5": "U"
  };

  inputs.forEach((input, idx) => {
    input.addEventListener("input", (e) => {
      let val = e.target.value.toUpperCase();
      // Icelandic letters + basic Latin uppercase
      const allowed = /^[A-ZÁÉÍÓÚÝÞÆÖ]$/;
      if (!allowed.test(val)) {
        e.target.value = "";
        return;
      } else {
        e.target.value = val;
      }
      if (val && idx < inputs.length - 1) {
        inputs[idx + 1].focus();
      }
    });
    input.addEventListener("keypress", (e) => {
      const char = String.fromCharCode(e.which).toUpperCase();
      const allowed = /^[A-ZÁÉÍÓÚÝÞÆÖ]$/;
      if (!allowed.test(char)) {
        e.preventDefault();
      }
    });
  });

  document.getElementById("show-all").addEventListener("click", () => {
    inputs.forEach(input => {
      input.value = answers[input.id] || "";
    });
  });
</script>

</body>
</html>
